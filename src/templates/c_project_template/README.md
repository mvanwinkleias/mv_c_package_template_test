# Hello world

Get started:

    autoreconf --install
    cd build
    ../configure
    make
    sudo make install
    autoconf_hello_world
    sudo make uninstall

Most useful things to get started:

- `./configure --prefix`
- `make install DESTDIR`

## What to gitignore on a real project

In normal projects, the files generated by the `autoreconf --install` command are also checked in with Git.

We `.gitignore` them here for minimality.

## Configure

### prefix

### Installation prefix

    ../configure --prefix="$(pwd)/install"

will install all files in the `install` directory.

This is:

- very instructive to see what is getting built on large projects
- useful to prepare `chroot` environments

## Makefile

### DESTDIR

Modify the installation destination for a single run, without rerunning `config` with a different prefix:

    make install DESTDIR="$(pwd)/../install2"

This will install the programs under:

    $(pwd)/../install2/usr/local/

supposing that the prefix is `/usr/local`.

This is very useful to make test installs without modifying the system.

It may be important to not rerun `config` because that requires a `make distclean && make`, which could take hours for large projects.

# Autotools

This was borrowed from: https://github.com/cirosantilli/linux-cheat

GNU's build system.

CMake is likely more portable. But if you ever touch a GNU project, better learn this.

KDE is a notable project that dumped it for CMake in KDE 4: <https://lwn.net/Articles/188693/>

## Build object files to custom directory

<http://stackoverflow.com/questions/1015700/autotools-library-and-object-file-output-control>

`cd` into the desired directory, and `../configure` from there.

## Compilation flags

Pass an extra one at `make` time:

- <http://stackoverflow.com/questions/7543978/how-to-pass-g3-flag-to-gcc-via-make-command-line>
- <http://stackoverflow.com/questions/3602927/add-compiler-option-without-editing-makefile>
- <http://stackoverflow.com/questions/1250608/passing-a-gcc-flag-through-makefile>
